{"ast":null,"code":"import _objectSpread from \"D:\\\\Documents\\\\universidad\\\\7 semestre\\\\ingesoft II\\\\VinCat-Front-End\\\\vincat-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"D:\\\\Documents\\\\universidad\\\\7 semestre\\\\ingesoft II\\\\VinCat-Front-End\\\\vincat-front-end\\\\src\\\\components\\\\Product\\\\CommentForm.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Form } from \"react-bootstrap\";\nexport default class CommentForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFieldChange = event => {\n      const _event$target = event.target,\n            value = _event$target.value,\n            name = _event$target.name;\n      this.setState(_objectSpread({}, this.state, {\n        comment: _objectSpread({}, this.state.comment, {\n          [name]: value\n        })\n      }));\n    };\n\n    this.state = {\n      loading: false,\n      error: \"\",\n      comment: {\n        name: \"\",\n        message: \"\"\n      }\n    }; // bind context to methods\n\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const rating = {\n      comment: this.state.comment,\n      kind: \"product\",\n      rating: \"5\",\n      reteable_id: this.props.loginAccountInfo,\n      reteable_type: \"user\"\n    };\n    axios.post(\"https://vincat-dangulos.c9users.io/ratings?user_email=\".concat(this.props.loginAccountInfo.accountInfo, \"&user_token=\").concat(this.props.loginAccountInfo.key), {\n      email: this.state.email,\n      password: this.state.password\n    }).then(res => {\n      const person = res.data;\n      this.setState({\n        rating\n      });\n    });\n  }\n\n  renderError() {\n    return this.state.error ? React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.state.error) : null;\n  }\n\n  render() {\n    console.log(this.props.loginAccountInfo);\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      onChange: this.handleFieldChange,\n      className: \"form-control\",\n      placeholder: \"Your Comment\",\n      rows: \"3\",\n      name: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), this.renderError(), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: this.state.loading,\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Comment\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loginAccountInfo: state.loginAccountInfo\n  };\n};","map":{"version":3,"sources":["D:\\Documents\\universidad\\7 semestre\\ingesoft II\\VinCat-Front-End\\vincat-front-end\\src\\components\\Product\\CommentForm.js"],"names":["React","Component","axios","Form","CommentForm","constructor","props","handleFieldChange","event","target","value","name","setState","state","comment","loading","error","message","bind","onSubmit","e","preventDefault","rating","kind","reteable_id","loginAccountInfo","reteable_type","post","accountInfo","key","email","password","then","res","person","data","renderError","render","console","log","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport {Form} from \"react-bootstrap\";\r\n\r\n\r\nexport default class CommentForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            error: \"\",\r\n\r\n            comment: {\r\n                name: \"\",\r\n                message: \"\"\r\n            }\r\n        };\r\n\r\n        // bind context to methods\r\n        this.handleFieldChange = this.handleFieldChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    handleFieldChange = event => {\r\n        const { value, name } = event.target;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            comment: {\r\n                ...this.state.comment,\r\n                [name]: value\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const rating = {\r\n            comment: this.state.comment,\r\n            kind: \"product\",\r\n            rating: \"5\",\r\n            reteable_id:this.props.loginAccountInfo,\r\n            reteable_type: \"user\"\r\n\r\n\r\n        };\r\n\r\n        axios.post(`https://vincat-dangulos.c9users.io/ratings?user_email=${this.props.loginAccountInfo.accountInfo}&user_token=${this.props.loginAccountInfo.key}`, {\r\n            email: this.state.email,\r\n            password: this.state.password, })\r\n            .then(res => {\r\n                const person = res.data;\r\n                this.setState({ rating});\r\n            })\r\n    }\r\n\r\n    renderError() {\r\n        return this.state.error ? (\r\n            <div className=\"alert alert-danger\">{this.state.error}</div>\r\n        ) : null;\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.loginAccountInfo);\r\n        return (\r\n            <React.Fragment>\r\n                <form method=\"post\" onSubmit={this.onSubmit}>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n            <textarea\r\n                onChange={this.handleFieldChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Your Comment\"\r\n                rows=\"3\"\r\n                name=\"comment\"\r\n            />\r\n                    </div>\r\n\r\n                    {this.renderError()}\r\n\r\n                    <div className=\"form-group\">\r\n                        <button disabled={this.state.loading} className=\"btn btn-primary\"  type=\"submit\">\r\n                            Comment\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {loginAccountInfo: state.loginAccountInfo};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}