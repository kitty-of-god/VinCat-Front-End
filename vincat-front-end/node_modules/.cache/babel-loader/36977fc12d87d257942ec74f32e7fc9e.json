{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\universidad\\\\7 semestre\\\\ingesoft II\\\\VinCat-Front-End\\\\vincat-front-end\\\\src\\\\components\\\\Login\\\\LoginPage.js\";\n//Dependencies\nimport React, { Component } from 'react';\nimport { Button, ButtonToolbar, Card, Col, Form, Row, Container } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport { storeLoginAccountInfo } from '../../actions';\nimport axios from \"axios\";\nconst emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst MIN_PASS_LENGTH = 6;\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      valid: \"undefined\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    {\n      /*Email format and password length validation*/\n    }\n    let condition;\n    console.log(this.state.password.length);\n\n    if (e.target.name == \"email\") {\n      if (emailRegex.test(e.target.value) && this.state.password.length >= MIN_PASS_LENGTH) {\n        condition = \"valid\";\n        if (e.target.value.length == 0 && this.state.password.length == 0) condition = \"undefined\";\n      } else {\n        condition = \"invalid\";\n      }\n    } else {\n      if (emailRegex.test(this.state.email) && e.target.value.length >= MIN_PASS_LENGTH) {\n        condition = \"valid\";\n      } else {\n        condition = \"invalid\";\n      }\n    }\n\n    this.setState({\n      [e.target.name]: e.target.value,\n      valid: condition\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    axios.post('https://vincat-dangulos.c9users.io/sessions', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(res => {\n      if (res.status > 299) throw \"nan\";\n      const infoKey = {\n        accountInfo: res.data.email,\n        key: res.data.authentication_token,\n        id: res.data.id\n      };\n      this.props.storeLoginAccountInfo(infoKey);\n    }).catch(e => {\n      this.setState({\n        valid: \"nan\"\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    const userValidation = this.state.valid;\n    let message;\n\n    switch (userValidation) {\n      case \"undefined\":\n        message = React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Enter your email and password\");\n        break;\n\n      case \"valid\":\n        message = React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Valid email and password\");\n        break;\n\n      case \"invalid\":\n        message = React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Invalid email or password\");\n        break;\n\n      case \"nan\":\n        message = React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \" The user does not exists\");\n        break;\n\n      default:\n        message = React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Default message\");\n        break;\n    }\n\n    return React.createElement(Container, {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Start shopping @VinCat \"), React.createElement(ButtonToolbar, {\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Log in with Google\"))), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"justify-content-md-center\",\n      onSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalEmail\",\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, message, React.createElement(Form.Control, {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalPassword\",\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Password must be at least 6 characters long\"))), React.createElement(Form.Group, {\n      as: Row,\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Card.Link, {\n      href: \"/forgot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Forgot Password?\"))), React.createElement(Form.Group, {\n      as: Row,\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Card.Link, {\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Don't have and account? Register\"))), React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalCheck\",\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Form.Check, {\n      label: \"Remember me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      as: Row,\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Login\")))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state;\n};\n\nexport default connect(mapStateToProps, {\n  storeLoginAccountInfo\n})(LoginPage);","map":{"version":3,"sources":["D:\\Documents\\universidad\\7 semestre\\ingesoft II\\VinCat-Front-End\\vincat-front-end\\src\\components\\Login\\LoginPage.js"],"names":["React","Component","Button","ButtonToolbar","Card","Col","Form","Row","Container","connect","storeLoginAccountInfo","axios","emailRegex","MIN_PASS_LENGTH","LoginPage","constructor","props","state","email","password","valid","handleChange","bind","handleFormSubmit","e","condition","console","log","length","target","name","test","value","setState","preventDefault","post","then","res","status","infoKey","accountInfo","data","key","authentication_token","id","catch","render","userValidation","message","display","justifyContent","alignItems","height","mapStateToProps"],"mappings":"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","sourcesContent":["//Dependencies\r\nimport React, { Component } from 'react';\r\nimport {Button, ButtonToolbar, Card, Col, Form, Row, Container} from \"react-bootstrap\";\r\nimport { connect } from 'react-redux';\r\nimport { storeLoginAccountInfo } from '../../actions';\r\nimport axios from \"axios\";\r\n\r\nconst emailRegex =/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\nconst MIN_PASS_LENGTH = 6 ;\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state= {\r\n      email: \"\",\r\n      password: \"\",\r\n      valid: \"undefined\",\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e){\r\n\r\n    {/*Email format and password length validation*/}\r\n    let condition;\r\n    console.log(this.state.password.length);\r\n    if(e.target.name==\"email\"){\r\n      if(emailRegex.test(e.target.value) && this.state.password.length >= MIN_PASS_LENGTH){\r\n        condition= \"valid\";\r\n        if(e.target.value.length == 0 && this.state.password.length == 0)condition = \"undefined\";\r\n      }else{\r\n        condition = \"invalid\";\r\n      }\r\n    }else{\r\n      if(emailRegex.test(this.state.email) && e.target.value.length >= MIN_PASS_LENGTH){\r\n        condition = \"valid\";\r\n      }else{\r\n        condition = \"invalid\";\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n      valid: condition,\r\n    });\r\n  }\r\n\r\n  handleFormSubmit(e){\r\n    e.preventDefault();\r\n\r\n    axios.post('https://vincat-dangulos.c9users.io/sessions', {\r\n    email: this.state.email,\r\n    password: this.state.password,\r\n    })\r\n    .then(res => {\r\n        if(res.status > 299) throw \"nan\";\r\n        const infoKey = {\r\n            accountInfo:res.data.email,\r\n            key:res.data.authentication_token,\r\n            id:res.data.id\r\n        };\r\n        this.props.storeLoginAccountInfo(infoKey);\r\n      }).catch(e =>{this.setState({valid: \"nan\"})})\r\n   }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const userValidation = this.state.valid;\r\n        let message;\r\n\r\n        switch(userValidation){\r\n          case \"undefined\":\r\n            message = <Form.Label>Enter your email and password</Form.Label>;\r\n            break;\r\n          case \"valid\":\r\n            message = <Form.Label>Valid email and password</Form.Label>;\r\n            break;\r\n          case \"invalid\":\r\n            message = <Form.Label>Invalid email or password</Form.Label>;\r\n            break;\r\n          case \"nan\":\r\n            message = <Form.Label> The user does not exists</Form.Label>;\r\n            break;\r\n          default:\r\n            message = <Form.Label>Default message</Form.Label>;\r\n            break;\r\n\r\n        }\r\n\r\n        return (\r\n            <Container style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '80vh'}}>\r\n                <Row className=\"justify-content-md-center\">\r\n                <Col md=\"auto\">\r\n                <Card className=\"text-center\"  >\r\n\r\n                    <Card.Header>\r\n                        <h1>Start shopping @VinCat </h1>\r\n                        <ButtonToolbar  className=\"justify-content-md-center\">\r\n                        <Button variant=\"outline-dark\">Log in with Google</Button>\r\n                        </ButtonToolbar>\r\n                    </Card.Header>\r\n\r\n                    <Card.Body >\r\n                        <Form\r\n                        className=\"justify-content-md-center\"\r\n                        onSubmit={this.handleFormSubmit}\r\n                        >\r\n                            <Form.Group as={Row} controlId=\"formHorizontalEmail\" className=\"justify-content-md-center\">\r\n\r\n                                <Col sm={5}>\r\n                                    {message}\r\n                                    <Form.Control\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email\"\r\n                                    onChange={this.handleChange}\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId=\"formHorizontalPassword\" className=\"justify-content-md-center\">\r\n\r\n                                <Col sm={5}>\r\n                                    <Form.Control\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    onChange={this.handleChange}\r\n                                    />\r\n                                    <Form.Label>Password must be at least 6 characters long</Form.Label>\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row} className=\"justify-content-md-center\">\r\n                                <Col sm={5}>\r\n\r\n                                    <Card.Link href=\"/forgot\">Forgot Password?</Card.Link>\r\n\r\n\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row} className=\"justify-content-md-center\">\r\n\r\n                                <Col sm={8}>\r\n\r\n                                    <Card.Link href=\"/register\">Don't have and account? Register</Card.Link>\r\n\r\n\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row} controlId=\"formHorizontalCheck\" className=\"justify-content-md-center\">\r\n                                <Col sm={5}>\r\n                                    <Form.Check label=\"Remember me\" />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} className=\"justify-content-md-center\">\r\n                                <Col sm={5}>\r\n                                    <Button\r\n                                    type=\"submit\"\r\n\r\n                                    >\r\n                                      Login\r\n                                    </Button>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                        </Form>\r\n                    </Card.Body>\r\n\r\n                </Card>\r\n\r\n                    </Col>\r\n                    </Row>\r\n            </Container>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return state;\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, {storeLoginAccountInfo})(LoginPage);\r\n"]},"metadata":{},"sourceType":"module"}